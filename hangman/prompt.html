<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Hangman!</title>
</head>

<body>
  <h1>Hangman!</h1>

  <script type="text/javascript">
    //Pick a random word
    function pickWord() {
      var words = [
        "javascript",
        "monkey",
        "amazing",
        "pancake"
      ];

      var word = words[Math.floor(Math.random() * words.length)];
      return word;
    }

    //create an answer array
    function setupAnswerArray(word) {
      var answerArrays = [];
      for (var i = 0; i < word.length; i++) {
        answerArrays[i] = "_";
      }
      return answerArrays;
    }

    function showPlayerProgress(ans) {
      return alert(ans.join(" "));
    }

    function getGuess() {
      return prompt("Guess a letter, or click Cancel to stop playing");
    }

    function updateGameState(guessi, word, answerArr) {
      // update answer array
      for (var j = 0; j < word.length; j++) {
        if (word[j] === guessi) {
          answerArr[j] = guessi;
          return remainingLetters--;
        }
      }
    }

    function showAnswerAndCongratulatePlayer(answ, wordA) {
      return alert(answ.join(" ") + "\n" + "Good job! The answer was " + wordA);
    }

    // remaining letters
    var aWord = pickWord();
    var answerArray = setupAnswerArray(aWord);
    var remainingLetters = aWord.length;
    while (remainingLetters > 0) {
      showPlayerProgress(answerArray);
      //take input from the player
      var guess = getGuess();
      if (guess === null) {
        break;
      } else if (guess.length !== 1) {
        alert("Please enter a single letter.");
      } else {
        var correctGuesses = updateGameState(guess, aWord, answerArray);
        remainingLetters -= correctGuesses;
      }
    }
    //Congratulate the player on guessing the word
    showAnswerAndCongratulatePlayer(answerArray, aWord);
  </script>
</body>

</html>